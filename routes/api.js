// initialize our faux database
var data = {
  "posts" : [
        {
            "id": 0,
            "title": "Long Traffic Jams Occur in The City Because there is a Demo Rising Oil Prices",
            "subtitle": "subtitle",
            "body": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam el eum iriure dolor in hendrerit in vulputate velit esse molestie consequat; est usus legentis in iis qui facit eorum claritatem. Investigationes lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum. Mirum est notare quam littera.Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum.",
            "image":"/images/blog/1.jpg",            
            "imageSpan":"Example : This is image caption fo sample",
            "category": "Tecnologia",
            "comments": [{
                "nome":"Bob Marchetti",
                "hora":"",
                "body":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat"},
                {
                "nome":"David Pena",
                "hora":"",
                "body":"Colé"}
            ],
            "author": "John Smith",
            "dia":"4",
            "mes":"Novembro",
            "ano":"2015",
            "link": "/post",
            "views": 0
        },
        {
            "id": 1,
            "title": "'Brasileirão' de 'League of Legends' ganha cara de futebol com 2ª divisão",
            "subtitle": "Circuito Brasileiro (CBLoL) terá torneio paralelo com equipes menores.'Ideia é chegar mais perto de esporte tradicional', diz gerente da Riot.",
            "body": "No ano passado, as disputas profissionais de \"League of Legends\" no Brasil tiveram um clima de competição para esporte nenhum botar defeito. Mas em 2015, o game pode ganhar de vez a cara da paixão nacional dos brasileiros. Isso porque, além de ver sua final sendo realizada no estádio do Palmeiras, o cenário competitivo nacional de \"League of Legends\" contará com uma \"segunda divisão\", onde times de menor expressão terão a chance de disputar o acesso e jogar contra a elite nacional. Quem é que não gosta de uma zebra? Isso porque o Circuito Desafiante, que é esse torneio de azarões, será realizado em paralelo com o Circuito Brasileiro de \"League of Legends\" (CBLoL), a liga principal. Em 2014, a Kabum levou o \"brasileirão\" e disputou o mundial. Ao fim da primeira etapa do CBLoL, que culmina em um evento em Florianópolis (SC) no dia 18 de abril, as três equipes melhores pontuadas na \"segunda divisão\" jogam contra os lanternas da \"série A\".Segundo \"PH\", a ideia da liga de acesso é justamente \"chegar mais perto de um esporte tradicional\", como o futebol, \"para facilitar que as pessoas entendam melhor o formato\". Mas também dar chances de os times menores continuarem na temporada após a primeira etapa e crescerem no cenário competitivo brasileiro.\"A gente quer que elas se desenvolvam e tenham chance de chegar em um nível de jogo que as equipes profissionais têm (..) E dar a oportunidade para que elas provem para elas mesmas e para a comunidade que estão prontas\", afirma \"PH\".Totalizando as duas primeiras etapas e o evento comemorativo de fim de ano, em Goiânia (GO), o circuito brasileiro de \"League of Legends\" irá distribuir cerca de R$ 570 mil em premiações neste ano.",
            "image":"/images/blog/leagueoflegends.jpg",            
            "imageSpan":"Kabum venceu CBLoL em 2014 e foi para mundial em Cingapura ",
            "category": "Tecnologia",
            "comments": [{
                "nome":"Bob Marchetti",
                "hora":"",
                "body":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat"},
                {
                "nome":"David Pena",
                "hora":"",
                "body":"Colé"},
                {
                "nome":"Troll da net",
                "hora":"",
                "body":"LOL sucks. Bom é DOTA"},
              
            ],
            "author": "John Smith",
            "dia":"16",
            "mes":"Janeiro",
            "ano":"2015",
            "link": "/post",
            "views": 2
        },
        {
            "id": 2,
            "title": "Ranking das Américas tem argentinos na ponta, seguidos por Cruzeiro e Galo",
            "subtitle": "Lista da Pluri Consultoria tem três brasileiros no top 20 e Botafogo com a maior queda. Corinthians segue na liderança do acumulado dos últimos sete anos",
            "body": "O título da Taça Libertadores deu ao San Lorenzo o topo do ranking de melhores clubes da América no ano passado, divulgado pela Pluri Consultoria nesta quarta-feira. Campeão da competição pela primeira vez, o time de coração do Papa Francisco subiu seis posições com relação a 2013, ficando na frente do River Plate, campeão nacional. Entre os cinco primeiros, Cruzeiro (3º) e Atlético-MG (4º) representam o Brasil.O Galo havia sido considerado o melhor time das Américas no ranking anterior, também impulsionado pelo título da Libertadores. Já o Cruzeiro ganhou uma colocação com relação a 2013 devido ao bicampeonato nacional e o segundo lugar na Copa do Brasil. Além dos dois mineiros, o São Paulo (7º) também representa o Brasil no top 20, que conta com quatro time argentinos, quatro mexicanos, dois americanos, dois paraguaios, dois peruanos, um colombiano, um uruguaio e um equatoriano.O time que mais subiu na lista foi o Independiente Santa Fé, da Colômbia, que ganhou 187 posições no ranking, alcançando a 30ª colocação na lsita desse ano. Quem mais caiu foi o Botafogo, que perdeu pontos por conta do rebaixamento para a Série B, deixando a 42ª posição e rumando para a 175ª.No ranking acumulado dos últimos sete anos, o Corinthians segue na liderança pelo terceiro ano consecutivo. Depois dele vem a LDU, que já ocupava a posição no ano passado, e o Cruzeiro, que subiu de nono para terceiro no geral.",
            "image":"/images/blog/cruzeiro.jpg",            
            "imageSpan":"Ranking das Américas tem San Lorenzo na ponta ",
            "category": "Esporte",
            "comments": [{
                "nome":"Bob Marchetti",
                "hora":"",
                "body":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat"},
                {
                "nome":"David Pena",
                "hora":"",
                "body":"Colé"},
                {
                "nome":"Cruzeirense",
                "hora":"",
                "body":"É o melhor time do Brasil"}
            ],
            "author": "John Smith",
            "dia":"4",
            "mes":"Novembro",
            "ano":"2015",
            "link": "/post",
            "views": 1
        },
        {
            "id": 3,
            "title": "Indonésia rejeita clemência a outro brasileiro condenado à morte",
            "subtitle": "Rodrigo Gularte foi preso em 2005 com cocaína em pranchas de surf.Família tenta reverter execução alegando que ele tem transtorno mental.",
            "body": "A Indonésia rejeitou o pedido de clemência feito pelo governo brasileiro para evitar a execução por fuzilamento do brasileiro Rodrigo Gularte, que está no corredor da morte por tráfico de drogas. A negativa foi recebida nesta terça-feira (20), de acordo com informações da assessoria do Itamaraty ao G1. Caso a pena seja cumprida, ele será o 2º brasileiro a ser executado na Indonésia. O primeiro foi Marco Archer Cardoso, fuzilado no último fim de semana.42 anos, foi condenado à pena máxima em 2005 por ingressar na Indonésia com seis quilos de cocaína escondidos em pranchas de surf. Ainda não há previsão da data em que a execução deve ocorrer. Apesar da rejeição do pedido de clemência, feito em 2012 e que é previsto no processo, a defesa do brasileiro ainda mantém a esperança de que Jacarta reconsidere sua decisão por razões médicas.A família de Gularte alega que ele foi diagnosticado com um quadro de esquizofrenia e tenta reverter a pena com a transferência dele para um hospital psiquiátrico, como prevê a lei indonésia. Clarisse Gularte, mãe de Rodrigo, contou que ele está 'totalmente transformado' e 15 quilos mais magro. Ela visitou o filho em agosto do ano passado.",
            "image":"/images/blog/gularte.jpg",            
            "imageSpan":"O brasileiro Rodrigo Gularte",
            "category": "Mundo",
            "comments": [{
                "nome":"Bob Marchetti",
                "hora":"",
                "body":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat"},
                {
                "nome":"David Pena",
                "hora":"",
                "body":"Colé"},
                {
                "nome":"Paulin",
                "hora":"",
                "body":"Muito triste. #chateado"}
            ],
            "author": "G1",
            "dia":"21",
            "mes":"Janeiro",
            "ano":"2015",
            "link": "/post",
            "views": 4
        }
    ]
};

// GET

exports.posts = function (req, res) {
  var posts = [];
  data.posts.forEach(function (post, i) {
    posts.push({
      id: i,
      title: post.title,
      subtitle: post.subtitle,
      body: post.body,
      image: post.image,
      imageSpan: post.imageSpan,
      category: post.category,
      author: post.author,
      dia: post.dia,
      mes: post.mes,
      ano: post.ano,
      link: post.link,
      views: post.views,
      comments: post.comments
    });
  });
  res.json({
    posts: posts
  });
};

exports.post = function (req, res) {
  console.log('func post');
  var id = req.params.id;
  if (id >= 0 && id < data.posts.length) {
    //data.posts[id].views = data.posts[id].views + 1;
    res.json({
      post: data.posts[id]
    });
  } else {
    res.json(false);
  }
};



// POST
exports.addPost = function (req, res) {
  data.posts.push(req.body);
  res.json(req.body);
};
/*
// PUT
exports.editPost = function (req, res) {
  var id = req.params.id;

  if (id >= 0 && id < data.posts.length) {
    data.posts[id] = req.body;
    res.json(true);
  } else {
    res.json(false);
  }
};

// DELETE
exports.deletePost = function (req, res) {
  var id = req.params.id;

  if (id >= 0 && id < data.posts.length) {
    data.posts.splice(id, 1);
    res.json(true);
  } else {
    res.json(false);
  }
};*/